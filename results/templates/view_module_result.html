{% extends 'base.html' %}

{% block content %}
	<h3>[{{ object.module.module_code }}] {{ object.module.module_name }}</h3>
	<p>Grade: {{ object.calculate_grade|floatformat:1 }}%</p>
	<form method="POST">
	{% csrf_token %}
		<div style="overflow-x: auto">
			<table class="table table-bordered">
				<thead>
					<th>Assessment Name</th>
					<th>Percentage</th>
					<th>Your Result</th>
				</thead>
				<tbody>
					{% for assessment in object.assessment_results.all %}
						<tr>
							<td>{{ assessment.assessment.assessment_name }}</td>
							<td>{{ assessment.assessment.percentage.normalize }}%</td>
							<td>
								<div class="input-group">
									<input type="number" min="0" max="100" step="0.1" name="{{ assessment.id }}" value="{{ assessment.result }}" class="form-control">
									<span class="input-group-append">
										<span class="input-group-text px-1">%</span>
									</span>
								</div>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		<button type="submit" class="btn btn-primary float-right">Save</button>
	</form>
{% endblock %}